{% doc %}
  @prompt
    Create a responsive sliding section with multiple 4 slides.
    
    Each slide should have by the left side:
    
    an icon (SVG),
    
    a title (h2),
    
    a description paragraph,
    
    and a call-to-action button with an arrow icon.
    
    
    The background of the slide should display a background image with an overlay.
    
    At the bottom left, show numbered navigation (1, 2, 3, â€¦). When a number is clicked, the corresponding slide should appear, and the active number should be styled differently (e.g., bold or circled).
    
    The section should auto-slide every 15 seconds but also allow manual navigation by clicking the numbers.
    
    Make sure the layout is responsive for mobile (stacking text above image).
    
    Use clean, modern styling with smooth fade/slide transitions., this is overlapping on the previous section, fix it, the cta should only be a text with an svg arrow
{% enddoc %}
{% assign ai_gen_id = block.id | replace: '_', '' | downcase %}

{% style %}
    .ai-slider-container-{{ ai_gen_id }} {
      position: relative;
      width: 100%;
      height: 500px;
      overflow: hidden;
      border-radius: 12px;
      display: block;
      z-index: 1;
    }

    .ai-slider-slide-{{ ai_gen_id }} {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      opacity: 0;
      transition: opacity 0.8s ease-in-out;
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
    }

    .ai-slider-slide-{{ ai_gen_id }}.active {
      opacity: 1;
    }

    .ai-slider-overlay-{{ ai_gen_id }} {
    position: absolute;
    z-index: 3;
    inset: 0;
    background: {{ block.settings.overlay_color }};
    opacity: {{ block.settings.overlay_opacity | divided_by: 100.0 }};
    transition: opacity 0.3s ease;
  }


    .ai-slider-content-{{ ai_gen_id }} {
      position: relative;
      z-index: 2;
      height: 100%;
      display: flex;
      align-items: center;
      padding: 60px;
      max-width: 1200px;
      margin: 0 auto;
    }

    .ai-slider-text-content-{{ ai_gen_id }} {
      max-width: 500px;
      color: {{ block.settings.text_color }};
    }

    .ai-slider-icon-{{ ai_gen_id }} {
      width: {{ block.settings.icon_size }}px;
      height: {{ block.settings.icon_size }}px;
      margin-bottom: 24px;
      color: {{ block.settings.icon_color }};
    }

    .ai-slider-title-{{ ai_gen_id }} {
      font-size: {{ block.settings.title_size }}px;
      color:{{ block.settings.title_color }};
      font-weight: 700;
      margin: 0 0 16px 0;
      line-height: 1.2;
    }

    .ai-slider-description-{{ ai_gen_id }} {
      font-size: {{ block.settings.description_size }}px;
      line-height: 1.6;
      margin: 0 0 32px 0;
      opacity: 0.9;
    }

    .ai-slider-cta-{{ ai_gen_id }} {
      display: inline-flex;
      align-items: center;
      color: {{ block.settings.cta_color }};
       gap:10px;
           text-align: center;
          {% comment %} padding: 12px 24px; {% endcomment %}
          background-color: {{ block.settings.button_color }};
          text-decoration: none;
          font-weight: 400;
          transition: background-color 0.3s ease;
    }


    .ai-slider-cta-{{ ai_gen_id }}:hover {
      color: {{ block.settings.cta_hover_color }};
    }

    .ai-slider-cta-arrow-{{ ai_gen_id }} {
      width: 20px;
      height: 20px;
      transition: transform 0.3s ease;
    }

    .ai-slider-cta-{{ ai_gen_id }}:hover .ai-slider-cta-arrow-{{ ai_gen_id }} {
      transform: translateX(4px);
    }

    .ai-slider-navigation-{{ ai_gen_id }} {
      position: absolute;
      bottom: 30px;
      left: 60px;
      z-index: 3;
      display: flex;
      gap: 12px;
    }

    .ai-slider-nav-dot-{{ ai_gen_id }} {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.3);
      border: 3px solid rgba(251, 159, 159, 0.96);
      color: white;
      font-weight: 600;
      font-size: 14px;
      cursor: pointer;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .ai-slider-nav-dot-{{ ai_gen_id }}.active {
      background: {{ block.settings.nav_active_color }};
      border-color: {{ block.settings.nav_active_color }};
      transform: scale(1.1);
    }

    .ai-slider-nav-dot-{{ ai_gen_id }}:hover {
      background: rgba(255, 255, 255, 0.5);
    }

    @media screen and (max-width: 768px) {
      .ai-slider-container-{{ ai_gen_id }} {
        height: 600px;
      }

      .ai-slider-content-{{ ai_gen_id }} {
        padding: 40px 20px;
        flex-direction: column;
        justify-content: center;
        text-align: center;
      }
      .ai-slider-icon-{{ ai_gen_id }} {
        {% comment %} background:red; {% endcomment %}
        text-align:center;
      }

      .ai-slider-text-content-{{ ai_gen_id }} {
        display:flex;
        flex-direction:column;
        align-items:center;
        text-align:center;
        {% comment %} background:red; {% endcomment %}
        max-width: 100%;
      }

      .ai-slider-title-{{ ai_gen_id }} {
        font-size: {{ block.settings.title_size | times: 0.8 }}px;

      }

      .ai-slider-description-{{ ai_gen_id }} {
        font-size: {{ block.settings.description_size | times: 0.9 }}px;
      }

      .ai-slider-navigation-{{ ai_gen_id }} {
        left: 50%;
        transform: translateX(-50%);
        bottom: 20px;
      }

      .ai-slider-nav-dot-{{ ai_gen_id }} {
        width: 35px;
        height: 35px;
        font-size: 12px;
      }
    }
{% endstyle %}
<slider-component-{{ ai_gen_id }} class="ai-slider-container-{{ ai_gen_id }}" {{ block.shopify_attributes }}>
  {% for i in (1..4) %}
    {% liquid
      assign slide_image_key = 'slide_' | append: i | append: '_image'
      assign slide_icon_key = 'slide_' | append: i | append: '_icon'
      assign slide_title_key = 'slide_' | append: i | append: '_title'
      assign slide_description_key = 'slide_' | append: i | append: '_description'
      assign slide_cta_text_key = 'slide_' | append: i | append: '_cta_text'
      assign slide_cta_link_key = 'slide_' | append: i | append: '_cta_link'

      assign slide_image = block.settings[slide_image_key]
      assign slide_icon = block.settings[slide_icon_key]
      assign slide_title = block.settings[slide_title_key]
      assign slide_description = block.settings[slide_description_key]
      assign slide_cta_text = block.settings[slide_cta_text_key]
      assign slide_cta_link = block.settings[slide_cta_link_key]
    %}

    <div
      class="ai-slider-slide-{{ ai_gen_id }} {% if forloop.first %}active{% endif %}"
      data-slide="{{ forloop.index }}"
      style="{% if slide_image %}background-image: url('{{ slide_image | image_url: width: 1920 }}');{% endif %}"
    >
      <div class="ai-slider-overlay-{{ ai_gen_id }}"></div>

      <div class="ai-slider-content-{{ ai_gen_id }}">
        <div class="ai-slider-text-content-{{ ai_gen_id }}">
          {% if slide_icon != blank %}
            <div class="ai-slider-icon-{{ ai_gen_id }}">
              {{ slide_icon }}
            </div>
          {% endif %}

          {% if slide_title != blank %}
            <p class="ai-slider-title-{{ ai_gen_id }}">{{ slide_title }}</p>
          {% endif %}

          {% if slide_description != blank %}
            <p class="ai-slider-description-{{ ai_gen_id }}">{{ slide_description }}</p>
          {% endif %}

          {% if slide_cta_text != blank %}
            <a
              href="{{ slide_cta_link | default: '#' }}"
              class="ai-slider-cta-{{ ai_gen_id }}"
            >
              {{ slide_cta_text }}
              <svg
                class="ai-slider-cta-arrow-{{ ai_gen_id }}"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
              >
                <path d="M5 12h14M12 5l7 7-7 7"/>
              </svg>
            </a>
          {% endif %}
        </div>
      </div>
    </div>
  {% endfor %}

  <div class="ai-slider-navigation-{{ ai_gen_id }}">
    {% for i in (1..4) -%}
      <button
        class="ai-slider-nav-dot-{{ ai_gen_id }} {% if forloop.first %}active{% endif %}"
        data-slide="{{ forloop.index }}"
        aria-label="Go to slide {{ forloop.index }}"
      >
        {{ forloop.index }}
      </button>
    {% endfor %}
  </div>
</slider-component-{{ ai_gen_id }}>
<script>
  (function() {
    class SliderComponent{{ ai_gen_id }} extends HTMLElement {
      constructor() {
        super();
        this.currentSlide = 1;
        this.totalSlides = 4;
        this.autoSlideInterval = null;
      }

      connectedCallback() {
        this.slides = this.querySelectorAll('.ai-slider-slide-{{ ai_gen_id }}');
        this.navDots = this.querySelectorAll('.ai-slider-nav-dot-{{ ai_gen_id }}');

        this.setupEventListeners();
        this.startAutoSlide();
      }

      disconnectedCallback() {
        this.stopAutoSlide();
      }

      setupEventListeners() {
        this.navDots.forEach((dot, index) => {
          dot.addEventListener('click', () => {
            this.goToSlide(index + 1);
            this.resetAutoSlide();
          });
        });

        this.addEventListener('mouseenter', () => {
          this.stopAutoSlide();
        });

        this.addEventListener('mouseleave', () => {
          this.startAutoSlide();
        });
      }

      goToSlide(slideNumber) {
        this.slides.forEach((slide, index) => {
          slide.classList.toggle('active', index + 1 === slideNumber);
        });

        this.navDots.forEach((dot, index) => {
          dot.classList.toggle('active', index + 1 === slideNumber);
        });

        this.currentSlide = slideNumber;
      }

      nextSlide() {
        const nextSlide = this.currentSlide >= this.totalSlides ? 1 : this.currentSlide + 1;
        this.goToSlide(nextSlide);
      }

      startAutoSlide() {
        this.autoSlideInterval = setInterval(() => {
          this.nextSlide();
        }, 15000);
      }

      stopAutoSlide() {
        if (this.autoSlideInterval) {
          clearInterval(this.autoSlideInterval);
          this.autoSlideInterval = null;
        }
      }

      resetAutoSlide() {
        this.stopAutoSlide();
        this.startAutoSlide();
      }
    }

    customElements.define('slider-component-{{ ai_gen_id }}', SliderComponent{{ ai_gen_id }});
  })();
</script>

{% schema %}
{
  "name": "Responsive slider",
  "settings": [
    {
      "type": "header",
      "content": "Overlay settings"
    },
    {
      "type": "color",
      "id": "overlay_color",
      "label": "Overlay color",
      "default": "#000000"
    },
    {
      "type": "range",
      "id": "overlay_opacity",
      "min": 0,
      "max": 80,
      "step": 5,
      "unit": "%",
      "label": "Overlay opacity",
      "default": 40
    },
    {
      "type": "header",
      "content": "Text styling"
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Text color",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "icon_color",
      "label": "Icon color",
      "default": "#ffffff"
    },
    {
      "type": "range",
      "id": "icon_size",
      "min": 30,
      "max": 80,
      "step": 5,
      "unit": "px",
      "label": "Icon size",
      "default": 50
    },
    {
      "type": "range",
      "id": "title_size",
      "min": 18,
      "max": 60,
      "step": 2,
      "unit": "px",
      "label": "Title size",
      "default": 42
    },
    {
      "type": "color",
      "id": "title_color",
      "label": "Title text color",
      "default": "#DCA1A1"
    },
    {
      "type": "range",
      "id": "description_size",
      "min": 14,
      "max": 24,
      "step": 1,
      "unit": "px",
      "label": "Description size",
      "default": 18
    },
    {
      "type": "header",
      "content": "Call to action styling"
    },
    {
      "type": "color",
      "id": "cta_color",
      "label": "CTA text color",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "cta_hover_color",
      "label": "CTA hover color",
      "default": "#cccccc"
    },
    {
      "type": "range",
      "id": "cta_size",
      "min": 14,
      "max": 24,
      "step": 1,
      "unit": "px",
      "label": "CTA text size",
      "default": 16
    },
    {
      "type": "header",
      "content": "Navigation styling"
    },
    {
      "type": "color",
      "id": "nav_active_color",
      "label": "Active navigation color",
      "default": "#ffffff"
    },
    {
      "type": "header",
      "content": "Slide 1"
    },
    {
      "type": "image_picker",
      "id": "slide_1_image",
      "label": "Background image"
    },
    {
      "type": "html",
      "id": "slide_1_icon",
      "label": "Icon SVG code",
      "default": "<svg viewBox=\"0 0 24 24\" fill=\"currentColor\"><path d=\"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z\"/></svg>"
    },
    {
      "type": "text",
      "id": "slide_1_title",
      "label": "Title",
      "default": "Slide 1 Title"
    },
    {
      "type": "textarea",
      "id": "slide_1_description",
      "label": "Description",
      "default": "This is the description for slide 1. Add compelling content here."
    },
    {
      "type": "text",
      "id": "slide_1_cta_text",
      "label": "CTA text",
      "default": "Learn More"
    },
    {
      "type": "url",
      "id": "slide_1_cta_link",
      "label": "CTA link"
    },
    {
      "type": "header",
      "content": "Slide 2"
    },
    {
      "type": "image_picker",
      "id": "slide_2_image",
      "label": "Background image"
    },
    {
      "type": "html",
      "id": "slide_2_icon",
      "label": "Icon SVG code",
      "default": "<svg viewBox=\"0 0 24 24\" fill=\"currentColor\"><path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z\"/></svg>"
    },
    {
      "type": "text",
      "id": "slide_2_title",
      "label": "Title",
      "default": "Slide 2 Title"
    },
    {
      "type": "textarea",
      "id": "slide_2_description",
      "label": "Description",
      "default": "This is the description for slide 2. Add compelling content here."
    },
    {
      "type": "text",
      "id": "slide_2_cta_text",
      "label": "CTA text",
      "default": "Get Started"
    },
    {
      "type": "url",
      "id": "slide_2_cta_link",
      "label": "CTA link"
    },
    {
      "type": "header",
      "content": "Slide 3"
    },
    {
      "type": "image_picker",
      "id": "slide_3_image",
      "label": "Background image"
    },
    {
      "type": "html",
      "id": "slide_3_icon",
      "label": "Icon SVG code",
      "default": "<svg viewBox=\"0 0 24 24\" fill=\"currentColor\"><path d=\"M12 2l2.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l7.91-1.01L12 2z\"/></svg>"
    },
    {
      "type": "text",
      "id": "slide_3_title",
      "label": "Title",
      "default": "Slide 3 Title"
    },
    {
      "type": "textarea",
      "id": "slide_3_description",
      "label": "Description",
      "default": "This is the description for slide 3. Add compelling content here."
    },
    {
      "type": "text",
      "id": "slide_3_cta_text",
      "label": "CTA text",
      "default": "Discover"
    },
    {
      "type": "url",
      "id": "slide_3_cta_link",
      "label": "CTA link"
    },
    {
      "type": "header",
      "content": "Slide 4"
    },
    {
      "type": "image_picker",
      "id": "slide_4_image",
      "label": "Background image"
    },
    {
      "type": "html",
      "id": "slide_4_icon",
      "label": "Icon SVG code",
      "default": "<svg viewBox=\"0 0 24 24\" fill=\"currentColor\"><path d=\"M9 11H7v9a2 2 0 002 2h8a2 2 0 002-2V9a2 2 0 00-2-2h-3V5a2 2 0 00-2-2H9a2 2 0 00-2 2v6z\"/></svg>"
    },
    {
      "type": "text",
      "id": "slide_4_title",
      "label": "Title",
      "default": "Slide 4 Title"
    },
    {
      "type": "textarea",
      "id": "slide_4_description",
      "label": "Description",
      "default": "This is the description for slide 4. Add compelling content here."
    },
    {
      "type": "text",
      "id": "slide_4_cta_text",
      "label": "CTA text",
      "default": "Shop Now"
    },
    {
      "type": "url",
      "id": "slide_4_cta_link",
      "label": "CTA link"
    }
  ],
  "presets": [
    {
      "name": "Responsive slider"
    }
  ]
}
{% endschema %}
